recipe: default.v1

language: en  # or 'en+ur' if you have mixed data

pipeline:
  - name: WhitespaceTokenizer
  - name: RegexFeaturizer
  - name: CountVectorsFeaturizer
    max_features: 1000
    token_pattern: r'(?u)\b\w+\b'
  - name: CountVectorsFeaturizer
    analyzer: char_wb
    min_ngram: 1
    max_ngram: 3
  - name: DIETClassifier
    epochs: 100
    constrain_similarities: true
    use_masked_language_model: true
    intent_classification: true
    entity_recognition: true
  - name: EntitySynonymMapper
  - name: FallbackClassifier
    threshold: 0.15
    ambiguity_threshold: 0.05

policies:
  - name: MemoizationPolicy
    max_history: 5             # good for multi-turn
  - name: RulePolicy
  - name: TEDPolicy             # ‚Üê ADD THIS! Very important for multi-intent
    max_history: 5
    epochs: 50                 # lower than DIET